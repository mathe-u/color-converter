<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Color Picker Completo</title>
    <style>
        body {
            transition: background-color 0.3s ease;
            font-family: Arial, sans-serif;
            padding: 20px;
            margin: 0;
        }

        .container {
            background-color: #333;
            color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }

        .picker-section {
            flex-shrink: 0;
        }

        .inputs-section {
            flex: 1;
            min-width: 250px;
        }

        h2 {
            margin: 0 0 20px 0;
            text-align: center;
            grid-column: 1 / -1;
        }

        #picker {
            position: relative;
            width: 200px;
            height: 200px;
            background: linear-gradient(to top, black 0%, transparent 100%),
                linear-gradient(to right, white 0%, transparent 100%);
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid white;
        }

        #hue-slider {
            width: 200px;
            height: 20px;
            background: linear-gradient(to right, red, yellow, lime, cyan, blue, magenta, red);
            position: relative;
            border-radius: 10px;
            border: 1px solid white;
        }

        .selector {
            position: absolute;
            width: 10px;
            height: 10px;
            border: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
        }

        #hue-selector {
            top: 50%;
        }

        #inputs {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        #inputs label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        #inputs input {
            width: 50px;
            padding: 5px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 12px;
            text-align: center;
            color: #696868;
        }

        #hex-input {
            width: 80px;
            text-transform: uppercase;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 5px;
            flex-wrap: wrap;
        }

        .format-label {
            font-weight: bold;
            min-width: 50px;
            color: #c4bdbd;
        }

        .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #ffffff;
            padding-bottom: 5px;
        }

        @media (max-width: 600px) {
            .container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }

            .inputs-section {
                width: 100%;
                min-width: auto;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="picker-section">
            <div class="section-title">Conversor de Cores</div>
            <div id="picker">
                <div class="selector" id="sv-selector"></div>
            </div>
            <div id="hue-slider">
                <div class="selector" id="hue-selector"></div>
            </div>
        </div>

        <div class="inputs-section">
            <div id="inputs">
                <label>
                    <span class="format-label">HEX:</span>
                    <input type="text" id="hex-input" maxlength="7" placeholder="#RRGGBB">
                </label>

                <label>
                    <span class="format-label">RGB:</span>
                    <div class="input-group">
                        <input type="number" id="r-input" min="0" max="255" step="1" placeholder="R">
                        <input type="number" id="g-input" min="0" max="255" step="1" placeholder="G">
                        <input type="number" id="b-input" min="0" max="255" step="1" placeholder="B">
                    </div>
                </label>

                <label>
                    <span class="format-label">HSL:</span>
                    <div class="input-group">
                        <input type="number" id="h-input" min="0" max="360" step="1" placeholder="H">,
                        <input type="number" id="s-input" min="0" max="100" step="1" placeholder="S">,
                        <input type="number" id="l-input" min="0" max="100" step="1" placeholder="L">
                    </div>
                </label>

                <label>
                    <span class="format-label">HSV:</span>
                    <div class="input-group">
                        <input type="number" id="hsv-h-input" min="0" max="360" step="1" placeholder="H">,
                        <input type="number" id="hsv-s-input" min="0" max="100" step="1" placeholder="S">,
                        <input type="number" id="hsv-v-input" min="0" max="100" step="1" placeholder="V">
                    </div>
                </label>

                <label>
                    <span class="format-label">CMYK:</span>
                    <div class="input-group">
                        <input type="number" id="c-input" min="0" max="100" step="1" placeholder="C">,
                        <input type="number" id="m-input" min="0" max="100" step="1" placeholder="M">,
                        <input type="number" id="y-input" min="0" max="100" step="1" placeholder="Y">,
                        <input type="number" id="k-input" min="0" max="100" step="1" placeholder="K">
                    </div>
                </label>
            </div>
        </div>
    </div>

    <script>
        const picker = document.getElementById('picker');
        const svSelector = document.getElementById('sv-selector');
        const hueSlider = document.getElementById('hue-slider');
        const hueSelector = document.getElementById('hue-selector');

        // Inputs
        const hexInput = document.getElementById('hex-input');
        const rInput = document.getElementById('r-input');
        const gInput = document.getElementById('g-input');
        const bInput = document.getElementById('b-input');
        const hInput = document.getElementById('h-input');
        const sInput = document.getElementById('s-input');
        const lInput = document.getElementById('l-input');
        const hsvHInput = document.getElementById('hsv-h-input');
        const hsvSInput = document.getElementById('hsv-s-input');
        const hsvVInput = document.getElementById('hsv-v-input');
        const cInput = document.getElementById('c-input');
        const mInput = document.getElementById('m-input');
        const yInput = document.getElementById('y-input');
        const kInput = document.getElementById('k-input');

        let h = 0; // hue 0-360
        let s = 1; // saturation 0-1
        let v = 1; // value 0-1

        function hsvToRgb(h, s, v) {
            let r, g, b;
            let i = Math.floor(h / 60);
            let f = h / 60 - i;
            let p = v * (1 - s);
            let q = v * (1 - f * s);
            let t = v * (1 - (1 - f) * s);
            switch (i % 6) {
                case 0: r = v; g = t; b = p; break;
                case 1: r = q; g = v; b = p; break;
                case 2: r = p; g = v; b = t; break;
                case 3: r = p; g = q; b = v; break;
                case 4: r = t; g = p; b = v; break;
                case 5: r = v; g = p; b = q; break;
            }
            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        function rgbToHex(r, g, b) {
            return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`.toUpperCase();
        }

        function hexToRgb(hex) {
            hex = hex.replace('#', '');
            return {
                r: parseInt(hex.substring(0, 2), 16),
                g: parseInt(hex.substring(2, 4), 16),
                b: parseInt(hex.substring(4, 6), 16)
            };
        }

        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let hslH, hslS, hslL = (max + min) / 2;
            if (max === min) {
                hslH = hslS = 0;
            } else {
                let d = max - min;
                hslS = hslL > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: hslH = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: hslH = (b - r) / d + 2; break;
                    case b: hslH = (r - g) / d + 4; break;
                }
                hslH /= 6;
            }
            return { hslH: hslH * 360, hslS: hslS * 100, hslL: hslL * 100 };
        }

        function hslToRgb(hslH, hslS, hslL) {
            hslH /= 360; hslS /= 100; hslL /= 100;
            let r, g, b;
            if (hslS === 0) {
                r = g = b = hslL;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };
                const q = hslL < 0.5 ? hslL * (1 + hslS) : hslL + hslS - hslL * hslS;
                const p = 2 * hslL - q;
                r = hue2rgb(p, q, hslH + 1 / 3);
                g = hue2rgb(p, q, hslH);
                b = hue2rgb(p, q, hslH - 1 / 3);
            }
            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        function rgbToHsv(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let hsvH, hsvS, hsvV = max;
            let d = max - min;
            hsvS = max === 0 ? 0 : d / max;
            if (max === min) {
                hsvH = 0;
            } else {
                switch (max) {
                    case r: hsvH = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: hsvH = (b - r) / d + 2; break;
                    case b: hsvH = (r - g) / d + 4; break;
                }
                hsvH /= 6;
            }
            return { hsvH: hsvH * 360, hsvS: hsvS * 100, hsvV: hsvV * 100 };
        }

        function rgbToCmyk(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            let k = 1 - Math.max(r, Math.max(g, b));
            if (k === 1) {
                return { c: 0, m: 0, y: 0, k: 100 };
            }
            let c = (1 - r - k) / (1 - k);
            let m = (1 - g - k) / (1 - k);
            let y = (1 - b - k) / (1 - k);
            return {
                c: Math.round(c * 100),
                m: Math.round(m * 100),
                y: Math.round(y * 100),
                k: Math.round(k * 100)
            };
        }

        function cmykToRgb(c, m, y, k) {
            c /= 100; m /= 100; y /= 100; k /= 100;
            let r = 255 * (1 - c) * (1 - k);
            let g = 255 * (1 - m) * (1 - k);
            let b = 255 * (1 - y) * (1 - k);
            return {
                r: Math.round(r),
                g: Math.round(g),
                b: Math.round(b)
            };
        }

        function updateColor(fromInputs = false) {
            const { r, g, b } = hsvToRgb(h, s, v);
            const hex = rgbToHex(r, g, b);
            const { hslH, hslS, hslL } = rgbToHsl(r, g, b);
            const { hsvH, hsvS, hsvV } = rgbToHsv(r, g, b);
            const { c, m, y, k } = rgbToCmyk(r, g, b);

            document.body.style.backgroundColor = `rgb(${r},${g},${b})`;

            picker.style.background = `linear-gradient(to top, black 0%, transparent 100%),
                                        linear-gradient(to right, white 0%, hsl(${h}, 100%, 50%) 100%)`;

            if (!fromInputs) {
                hexInput.value = hex;
                rInput.value = r;
                gInput.value = g;
                bInput.value = b;
                hInput.value = Math.round(hslH);
                sInput.value = Math.round(hslS);
                lInput.value = Math.round(hslL);
                hsvHInput.value = Math.round(hsvH);
                hsvSInput.value = Math.round(hsvS);
                hsvVInput.value = Math.round(hsvV);
                cInput.value = c;
                mInput.value = m;
                yInput.value = y;
                kInput.value = k;
            }
        }

        function updateFromHex() {
            let hex = hexInput.value.toUpperCase();
            if (!/^#[0-9A-F]{6}$/.test(hex)) return;
            const { r, g, b } = hexToRgb(hex);
            updateFromRgb(r, g, b);
        }

        function updateFromRgb(r = null, g = null, b = null) {
            if (r === null) r = parseInt(rInput.value) || 0;
            if (g === null) g = parseInt(gInput.value) || 0;
            if (b === null) b = parseInt(bInput.value) || 0;

            r = Math.max(0, Math.min(255, r));
            g = Math.max(0, Math.min(255, g));
            b = Math.max(0, Math.min(255, b));

            const { hsvH, hsvS, hsvV } = rgbToHsv(r, g, b);
            h = hsvH;
            s = hsvS / 100;
            v = hsvV / 100;
            updateSelectors();
            updateColor(true);

            const hex = rgbToHex(r, g, b);
            const { hslH, hslS, hslL } = rgbToHsl(r, g, b);
            const { c, m, y, k } = rgbToCmyk(r, g, b);

            hexInput.value = hex;
            hInput.value = Math.round(hslH);
            sInput.value = Math.round(hslS);
            lInput.value = Math.round(hslL);
            hsvHInput.value = Math.round(hsvH);
            hsvSInput.value = Math.round(hsvS);
            hsvVInput.value = Math.round(hsvV);
            cInput.value = c;
            mInput.value = m;
            yInput.value = y;
            kInput.value = k;
        }

        function updateFromHsl() {
            let hslH = parseFloat(hInput.value) || 0;
            let hslS = parseFloat(sInput.value) || 0;
            let hslL = parseFloat(lInput.value) || 0;

            hslH = Math.max(0, Math.min(360, hslH));
            hslS = Math.max(0, Math.min(100, hslS));
            hslL = Math.max(0, Math.min(100, hslL));

            const { r, g, b } = hslToRgb(hslH, hslS, hslL);
            updateFromRgb(r, g, b);
        }

        function updateFromHsv() {
            let hsvH = parseFloat(hsvHInput.value) || 0;
            let hsvS = parseFloat(hsvSInput.value) || 0;
            let hsvV = parseFloat(hsvVInput.value) || 0;

            hsvH = Math.max(0, Math.min(360, hsvH));
            hsvS = Math.max(0, Math.min(100, hsvS));
            hsvV = Math.max(0, Math.min(100, hsvV));

            h = hsvH;
            s = hsvS / 100;
            v = hsvV / 100;
            updateSelectors();
            updateColor(true);

            const { r, g, b } = hsvToRgb(h, s, v);
            const hex = rgbToHex(r, g, b);
            const { hslH, hslS, hslL } = rgbToHsl(r, g, b);
            const { c, m, y, k } = rgbToCmyk(r, g, b);

            hexInput.value = hex;
            rInput.value = r;
            gInput.value = g;
            bInput.value = b;
            hInput.value = Math.round(hslH);
            sInput.value = Math.round(hslS);
            lInput.value = Math.round(hslL);
            cInput.value = c;
            mInput.value = m;
            yInput.value = y;
            kInput.value = k;
        }

        function updateFromCmyk() {
            let c = parseFloat(cInput.value) || 0;
            let m = parseFloat(mInput.value) || 0;
            let y = parseFloat(yInput.value) || 0;
            let k = parseFloat(kInput.value) || 0;

            c = Math.max(0, Math.min(100, c));
            m = Math.max(0, Math.min(100, m));
            y = Math.max(0, Math.min(100, y));
            k = Math.max(0, Math.min(100, k));

            const { r, g, b } = cmykToRgb(c, m, y, k);

            const { hsvH, hsvS, hsvV } = rgbToHsv(r, g, b);
            h = hsvH;
            s = hsvS / 100;
            v = hsvV / 100;

            updateSelectors();

            document.body.style.backgroundColor = `rgb(${r},${g},${b})`;
            picker.style.background = `linear-gradient(to top, black 0%, transparent 100%),
                                        linear-gradient(to right, white 0%, hsl(${h}, 100%, 50%) 100%)`;

            const hex = rgbToHex(r, g, b);
            const { hslH, hslS, hslL } = rgbToHsl(r, g, b);

            hexInput.value = hex;
            rInput.value = r;
            gInput.value = g;
            bInput.value = b;
            hInput.value = Math.round(hslH);
            sInput.value = Math.round(hslS);
            lInput.value = Math.round(hslL);
            hsvHInput.value = Math.round(hsvH);
            hsvSInput.value = Math.round(hsvS);
            hsvVInput.value = Math.round(hsvV);
        }

        function updateSelectors() {
            hueSelector.style.left = `${(h / 360) * 100}%`;
            svSelector.style.left = `${s * 100}%`;
            svSelector.style.top = `${(1 - v) * 100}%`;
        }

        hueSlider.addEventListener('click', (e) => {
            const rect = hueSlider.getBoundingClientRect();
            h = (e.clientX - rect.left) / rect.width * 360;
            hueSelector.style.left = `${(h / 360) * 100}%`;
            updateColor();
        });

        picker.addEventListener('click', (e) => {
            const rect = picker.getBoundingClientRect();
            s = (e.clientX - rect.left) / rect.width;
            v = 1 - (e.clientY - rect.top) / rect.height;
            svSelector.style.left = `${s * 100}%`;
            svSelector.style.top = `${(1 - v) * 100}%`;
            updateColor();
        });

        hexInput.addEventListener('input', updateFromHex);
        rInput.addEventListener('input', () => updateFromRgb());
        gInput.addEventListener('input', () => updateFromRgb());
        bInput.addEventListener('input', () => updateFromRgb());
        hInput.addEventListener('input', updateFromHsl);
        sInput.addEventListener('input', updateFromHsl);
        lInput.addEventListener('input', updateFromHsl);
        hsvHInput.addEventListener('input', updateFromHsv);
        hsvSInput.addEventListener('input', updateFromHsv);
        hsvVInput.addEventListener('input', updateFromHsv);
        cInput.addEventListener('input', updateFromCmyk);
        mInput.addEventListener('input', updateFromCmyk);
        yInput.addEventListener('input', updateFromCmyk);
        kInput.addEventListener('input', updateFromCmyk);

        hueSelector.style.left = '0%';
        svSelector.style.left = '100%';
        svSelector.style.top = '0%';
        updateColor();
    </script>
</body>

</html>